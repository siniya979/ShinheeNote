레이어드 아키텍처 
> 유사한 기능들을 같은 계층으로 묶어 관리하는 방식의 카텍처 구조 > 


![|400](https://i.imgur.com/3rS5nuL.png)

레이어드 아키텍처의 장점은 기능 개발을 할 때 가시적인 무언가를 만들기에 가장 쉬운 방법이라는 점이다. 그러나 레이어드 아키텍처는 DB 주도 설계를 유도한다. 모든 것이 영속성 계층을 토대로 만들어진다. 

주문 시스템을 만들어야 할 때, JPA Entity나 테이블을 어떻게 구성해야 할 지를 고민 할 것이다. 그러나 실은 주문 시스템에 필요한 Use case를 파악하는게 먼저다. 그 다음 이를 처리하기 위한 도메인과 도메인들의 관계를 생각하는 것이 우선되어야 한다. 

두 번째로, 동시 작업 문제이다. 어떤 기능을 개발할 때 영속성 객체와 Repository가 나와야 Servie 개발이 가능하고 Servie가 나와야 Controller 개발이 가능하다. 그래서 특정 기능 개발은 한 명만 수행이 가능하다. 사실 이 문제는 절차 지향적인 코드를 짰을 때도 발생한다. 

세 번째로 도민이 죽는다는 문제가 있다. 객체에 대한 진지한 고민을 하지 않고 getter와 setter를 가지고 수동적으로 돌아갈 확률이 높다. 또한 함수 위주로 돌아가게 된다. 

개선된 아키텍처

![](https://i.imgur.com/HHJwCTA.png)
![](https://i.imgur.com/5KDktnQ.png)
또한 도메인 레이어에서는 Lombok을 제외한 어노테이션이 달려있지 않게 만든다. (OOP)
